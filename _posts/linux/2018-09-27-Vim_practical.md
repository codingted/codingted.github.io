---
title: vim 使用技巧-笔记
category: linux
tags: linux vim
---

# 写在前面

一直再用vim作为自己的默认的文本编辑器,直到看到本书更了解了作为一个Vimer的路还有多远的路要走!

> 成为一个Vimer,我的路程:
> 
> 1. 了解vim的模式
> 2. 基础实践
> 3. ＜Vim实用技巧＞
> 4. Vim内置文档使用

<!-- more -->

# 笔记

## 练习技巧

<U>技巧4 执行/重复/回退</U>

目的        | 操作      |重复 |后退
------------|-----------|-----|-------
查找下一个指定字符| `f{char}`/`t{char}`| `;`| `,`


<U>技巧10 用次数做简单的算数运算</U>

> `<C-a>`和`<C-x>`分别对应对数字执行加和减的操作
> `10<C-a>`將光标下的数字+10

<U>技巧14 返回普通模式</U>

> `<C-o>` 切换到插入普通模式(在*插入*模式进行切换到*普通*模式执行完操作后重新回到插入模式)

<U>技巧15 不离开插入模式,粘贴寄存器中的文本</U>

> `<C-r>0`(<C-r>{register}, {register}就是想插入的寄存器的名字)     
> `<C-r><C-p>{register}` 会按原意插入寄存器的文本(避免不必要的换行和缩进)

<U>技巧16 随时随地做运算</U>

> `<C-r>=6*35<CR>` 运算结果插入当前光标所在的位置

<U>技巧21 选择高亮选取</U>

命令    | 用途
--------|---------
gv      | 重选上次的高亮选区
o       | 切换高亮选区的活动端
Vr{char}| 替换当前行为指定的字符

<U>技巧28 在一行或多个连续行上执行命令</U>

命令    | 结果
--------|------
:1      | 第一行
:$      | 文件的末尾行
:1,3 copy 16 (:1,3 co 16) | 將1-3行copy到第16行
:.-3 co . | 將当前行上边的第三行copy到当前行
:%      | 表示当前文件的所有行

<U>技巧29 使用‘:t’和‘:m’命令复制和移动行</U>

<U>技巧30 在指定范围执行普通模式命令</U>

命令    | 结果
--------|-------
:'<, '>normal . | 对选定区域执行上一次的操作
:'<, '>normal A;| 选定区域的行末尾添加';'

<U>技巧31 重复上次的Ex命令</U>

命令    | 结果
--------|-------
@:      | 重复上次的Ex命令(':'寄存器保存着最后执行的命令行命令), 如果执行过`@:`命令可以使用`@@`重复:

<U>技巧34 回溯命令历史</U>

> `<Up>`和`<Down>` 可以切换命令行历史, 在不將手移到小键盘区的情况下可以使用`<C-p>`和`<C-n>`浏览命令历史 
> `set history=100`可以改变缓存的命令历史的记录数

命令    | 动作
--------|--------
q/      | 打开查找命令历史的命令行窗口
q:      | 打开Ex命令历史的命令行窗口
<C-f>   | 从命令行模式切换到命令行窗口

<U>技巧35 运行shell命令</U>

> `2,$!sort -t ',' -k2` : 对文件中的内容进行排序

<U>技巧39 將工作区切分成窗口</U>

命令    | 用途
--------|---------
`<C-w>s`| 水平切分当前窗口,新窗口显示当前缓冲区
`<C-w>v`| 垂直切分当前窗口,新窗口显示当前缓冲区
:sp[lit] {file} | 水平切分当前窗口 
:vsp[lit] {file}| 垂直切分当前窗口
`<C-w>c`| 关闭活动窗口
:clo[se]| 关闭活动窗口
`<C-w>o`| 只保留活动窗口,关闭其它窗口
:on[ly] | 只保留活动窗口,关闭其它窗口

<U>技巧40 用标签页將窗口分组</U>

命令                | 用途
--------------------|---------
:tab[dit] {filename}| 新标签页打开 {filename} 
`<C-w>T`            | 把当前窗口移动到一个新的标签页
:tabc[lose]         | 关闭当前的标签页及其中的所有窗口
:tabo[nly]          | 只保留活动标签页,关闭所有其它的标签页

*标签页切换*

Ex命令      | 普通命令模式  | 用途
------------|---------------|---------
:tabn[ext] {N} | {N}gt      | 切换到编号为{N}的标签
:tabn[ext]  | gt            | 切换到下一标签页
:tabp[revious]|gT           | 切换到上一标签页
:tabmove [N]| -             | 移动标签(N为0移到开头,N省略移到末尾)

<U>技巧41 用:edit打开文件</U>

*相对于活动目录打开文件*

Ex命令      | 用途
------------|---------
:e[dit] %<Tab>| Tab会补全当前的文件路径和文件名
:e[dit] %:h<Tab>| Tab会补全当前文件的父级目录

<U>技巧42 使用:find打开文件</U>

> :find 命令是在path及当前目录下查找文件(:h path)

<U>技巧43 使用netrw管理文件</U>

操作    | 结果
--------|-------
`-`     | 返回上一级目录
`<C-^>` | 在文件和目录之间切换
:e[dit] .| 打开文件管理器,并显示当前工作目录
:E[xplore] | 打开文件管理器,并显示当前工作目录 

<U>技巧44 把文件保存到不存在的目录</U>

操作    | 结果
--------|-------
`<C-g>` | 显示文件的名称及状态
:!mkdir -p %:h | 创建当前文件的父目录

<U>技巧X 列插入连续数字</U>

操作    |  结果
--------|-------
`:put=range(1,22)`    | 在当前行开始插入连续数字行
`:$pub=range(1,22)`   | 在文件最后添加连续数字
`:call append(123,range(11,15))` | 在123行后添加连续数字行
`:for i in range(1,10) | put ='192.168.0.'.i | endfor` | 添加前缀
`<C-v> g <C-a>`     | 將一列的数字变成递增+1的

# 持续记录中...
